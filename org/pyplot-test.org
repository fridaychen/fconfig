:options:
#+startup: inlineimages
:end:

#+call: plot(output="test-1d.png",title="World!", ylabel="人口",xrange="[0, m.pi *2]",
f1="lambda x: m.cos(x)",l1="cos()",
f2="lambda x: m.sin(x) + 1",l2="sin()+2")

#+RESULTS:
[[file:test-1d.png]]

#+tblname: hello-bar
| city   | population |
|--------+------------|
| foo    |        100 |
| bar    |        200 |
| わたし |         39 |
| world  |         20 |
| 我们   |        -10 |

#+call: plotbar(output="test-bar.png",title="World!",datatable=hello-bar,height=4,width=10)

#+RESULTS:
[[file:test-bar.png]]

#+tblname: hello-pie
| city   | population |
|--------+------------|
| foo    |        100 |
| bar    |        800 |
| わたし |         39 |
| world  |         20 |
| 我们   |        100 |

#+call: plotpie(datatable=hello-pie, output="test-pie.png",title="Hello world!")

#+RESULTS:
[[file:test-pie.png]]

#+call: plothist(datafile="test-data1.txt",output="test-hist.png",title="New World!")

#+RESULTS:
[[file:]]

#+BEGIN_SRC python :results file
import fmath.plot as fp
import numpy as np

fp.setup_subplot(1, 2, bg="#C1E6C6", title="世界Hello world!", subtitles=("hello111", "world222"), font="Sarasa Gothic CL")

xa = np.arange(0, 6.28, 0.1)
fp.plotf(xa, lambda x: m.sin(x), sub=0, label="sin我们")
fp.plotf(xa, lambda x: m.cos(x), sub=0, label="cos")

data = fp.loadtxt("test-data2.txt")
fp.plot(data[:, 0], data[:, 1], sub=1, label="data2")

fp.save("test-subplot.png")

return "test-subplot.png"
#+END_SRC

#+RESULTS:
[[file:test-subplot.png]]
